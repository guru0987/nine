<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>File Allocation Algorithms</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    h2 {
      color: #222;
      background: #ddd;
      padding: 10px;
      border-radius: 6px;
    }
    .code-container {
      position: relative;
      margin-bottom: 25px;
    }
    pre {
      background: #222;
      color: #f8f8f2;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 14px;
    }
    code {
      font-family: Consolas, "Courier New", monospace;
    }
    .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      background: #4CAF50;
      color: white;
      border: none;
      padding: 6px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
    }
    .copy-btn:hover {
      background: #45a049;
    }
  </style>
</head>
<body>
  <h1>File Allocation Algorithms in C</h1>

  <!-- Contiguous Allocation -->
  <h2>1. Contiguous (Sequential) File Allocation</h2>
  <div class="code-container">
    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
    <pre><code>#include &lt;stdio.h&gt;

int main() {
    int n, i, j, b[50], sb[50], t[50], x, c[50][50];

    printf("Enter number of files: ");
    scanf("%d", &amp;n);

    for (i = 0; i &lt; n; i++) {
        printf("\nEnter number of blocks occupied by file %d: ", i + 1);
        scanf("%d", &amp;b[i]);

        printf("Enter the starting block of file %d: ", i + 1);
        scanf("%d", &amp;sb[i]);

        t[i] = sb[i];
        for (j = 0; j &lt; b[i]; j++) {
            c[i][j] = sb[i]++;
        }
    }

    printf("\nFileName\tStartBlock\tLength\n");
    for (i = 0; i &lt; n; i++) {
        printf("%d\t\t%d\t\t%d\n", i + 1, t[i], b[i]);
    }

    printf("\nEnter file name to be searched: ");
    scanf("%d", &amp;x);

    if (x &lt; 1 || x &gt; n) {
        printf("Invalid file name!\n");
    } else {
        printf("\nFile name: %d", x);
        printf("\nLength   : %d", b[x - 1]);
        printf("\nBlocks occupied: ");
        for (i = 0; i &lt; b[x - 1]; i++) {
            printf("%d ", c[x - 1][i]);
        }
        printf("\n");
    }
    return 0;
}</code></pre>
  </div>

  <!-- Linked Allocation -->
  <h2>2. Linked File Allocation</h2>
  <div class="code-container">
    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
    <pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

struct file {
    char fname[20];
    int start, size, block[50];
} f[20];

int main() {
    int i, j, n;

    printf("Enter number of files: ");
    scanf("%d", &amp;n);

    for (i = 0; i &lt; n; i++) {
        printf("\nEnter file name: ");
        scanf("%s", f[i].fname);

        printf("Enter starting block: ");
        scanf("%d", &amp;f[i].start);
        f[i].block[0] = f[i].start;

        printf("Enter number of blocks: ");
        scanf("%d", &amp;f[i].size);

        printf("Enter block numbers:\n");
        for (j = 1; j &lt;= f[i].size; j++) {
            scanf("%d", &amp;f[i].block[j]);
        }
    }

    printf("\nFile\tStart\tSize\tBlock Chain\n");
    for (i = 0; i &lt; n; i++) {
        printf("%s\t%d\t%d\t", f[i].fname, f[i].start, f[i].size);
        for (j = 1; j &lt; f[i].size; j++) {
            printf("%d--->", f[i].block[j]);
        }
        printf("%d\n", f[i].block[f[i].size]);
    }

    return 0;
}</code></pre>
  </div>

  <!-- Indexed Allocation -->
  <h2>3. Indexed File Allocation</h2>
  <div class="code-container">
    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
    <pre><code>#include &lt;stdio.h&gt;

int main() {
    int n, m[20], i, j, sb[20], s[20], b[20][20], x;

    printf("Enter number of files: ");
    scanf("%d", &amp;n);

    for (i = 0; i &lt; n; i++) {
        printf("\nEnter starting block and size of file %d: ", i + 1);
        scanf("%d %d", &amp;sb[i], &amp;s[i]);

        printf("Enter number of blocks occupied by file %d: ", i + 1);
        scanf("%d", &amp;m[i]);

        printf("Enter block numbers of file %d: ", i + 1);
        for (j = 0; j &lt; m[i]; j++) {
            scanf("%d", &amp;b[i][j]);
        }
    }

    printf("\nFileNo\tIndexBlock\tLength\n");
    for (i = 0; i &lt; n; i++) {
        printf("%d\t%d\t\t%d\n", i + 1, sb[i], m[i]);
    }

    printf("\nEnter file number to display details: ");
    scanf("%d", &amp;x);

    i = x - 1;
    if (i &gt;= 0 &amp;&amp; i &lt; n) {
        printf("\nFile number: %d\n", x);
        printf("Index block: %d\n", sb[i]);
        printf("Blocks occupied: ");
        for (j = 0; j &lt; m[i]; j++) {
            printf("%d ", b[i][j]);
        }
        printf("\n");
    } else {
        printf("Invalid file number!\n");
    }

    return 0;
}</code></pre>
  </div>

  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.innerText = "Copied!";
        setTimeout(() => {
          button.innerText = "Copy";
        }, 2000);
      });
    }
  </script>
</body>
</html>
